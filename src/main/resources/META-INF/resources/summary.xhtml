<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns:ui="jakarta.faces.facelets"
    xmlns:f="jakarta.faces.core"
    xmlns:h="jakarta.faces.html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="crde.persapiens.org"
    xmlns:d="jakarta.faces.composite/crde"
    xmlns:fn="jakarta.tags.functions"
    template="/layout/template.xhtml">
    <ui:define name="content" >
        <c:crud titleText="Recommendations that you will use, but not used already."
                titleStyleClass="recommendation"
                managedBean="#{recommendationFeedbackSummaryCrudMBean}"
                showInsert="false"
                showUpdateActionLink="false"
                dataTableLazy="false"
                showActionLinksColumn="true">
            <ui:define name="listColumns">
                <p:column responsivePriority="1" headerText="Main Idea" field="recommendation.mainIdea" sortable="true" filterable="false" />
                <p:column responsivePriority="3" headerText="Interviews" field="recommendation.recommendationInterviews.size()" style="width: 110px;" sortable="true" filterable="false" />
                <p:column responsivePriority="3" headerText="Challenges" field="recommendation.links.size()" style="width: 110px;" sortable="true" filterable="false"/>
                <p:column responsivePriority="4" headerText="Theme" field="recommendation.theme" style="width: 125px;" sortable="true" filterable="false" >
                    #{bean.recommendation.theme.value}
                </p:column>

            </ui:define>
            <ui:define name="detail">
                <h:panelGrid columns="2" cellpadding="3">
                    <c:text readonly="true" value="#{recommendationFeedbackSummaryCrudMBean.bean.recommendation.mainIdea}" label="Main Idea" />
                    <c:text readonly="true" value="#{recommendationFeedbackSummaryCrudMBean.bean.recommendation.theme.value}" label="Theme" />

                    <c:label label="Used Already Comment" />
                    <h:outputText id="usedAlreadyComment" value="#{fn:replace(recommendationFeedbackSummaryCrudMBean.bean.usedAlreadyComment, '\\n', '&lt;br/&gt;')}" escape="false" />

                    <c:label label="Will Use Comment" />
                    <h:outputText id="willUseComment" value="#{fn:replace(recommendationFeedbackSummaryCrudMBean.bean.willUseComment, '\\n', '&lt;br/&gt;')}" escape="false" />
                </h:panelGrid>

                <p:accordionPanel multiple="true" activeIndex="0">
                    <p:tab title="Interviews">
                        <d:recommendationInterviews value="#{recommendationFeedbackSummaryCrudMBean.bean.recommendation.recommendationInterviews}" />
                    </p:tab>

                    <p:tab title="Tags">
                        <h:outputText readonly="true" value="#{fn:replace(recommendationFeedbackSummaryCrudMBean.bean.recommendation.tags, '\\n', '&lt;br/&gt;')}" escape="false" />
                    </p:tab>
                </p:accordionPanel>
            </ui:define>
        </c:crud>
        
        
        <c:crud crudId="challenge"
                titleText="Challenges that you will mitigate, but not used linked recommendation."
                titleStyleClass="challenge"
                managedBean="#{challengeFeedbackSummaryCrudMBean}"
                showInsert="false"
                showUpdateActionLink="false"
                dataTableLazy="false"
                showActionLinksColumn="true">
            <ui:define name="listColumns">
                <p:column responsivePriority="1" headerText="Main Idea" field="challenge.mainIdea" sortable="true" filterable="false" />
                <p:column responsivePriority="3" headerText="Interviews" field="challenge.challengeInterviews.size()" style="width: 110px;" sortable="true" filterable="false" />
                <p:column responsivePriority="3" headerText="Recommendations" field="challenge.links.size()" style="width: 170px;" sortable="true" filterable="false"/>
                <p:column responsivePriority="4" headerText="Theme" field="challenge.theme" style="width: 125px;" sortable="true" filterable="false" >
                    #{bean.challenge.theme.value}
                </p:column>
            </ui:define>
            <ui:define name="detail">
                <h:panelGrid columns="2" cellpadding="3">
                    <c:text readonly="true" value="#{challengeFeedbackSummaryCrudMBean.bean.challenge.mainIdea}" label="Main Idea" id="mainIdea"/>
                    <c:text readonly="true" value="#{challengeFeedbackSummaryCrudMBean.bean.challenge.theme.value}" label="Theme" id="theme"/>

                    <c:label id="willMitigateCommentChallenge" label="Will Mitigate Comment" />
                    <h:outputText value="#{fn:replace(challengeFeedbackSummaryCrudMBean.bean.willMitigateComment, '\\n', '&lt;br/&gt;')}" escape="false" />
                </h:panelGrid>

                <p:accordionPanel multiple="true" activeIndex="0">
                    <p:tab title="Interviews">
                        <d:challengeInterviews value="#{challengeFeedbackSummaryCrudMBean.bean.challenge.challengeInterviews}" />
                    </p:tab>

                    <p:tab title="Tags">
                        <h:outputText readonly="true" value="#{fn:replace(challengeFeedbackSummaryCrudMBean.bean.challenge.tags, '\\n', '&lt;br/&gt;')}" escape="false" />
                    </p:tab>
                </p:accordionPanel>
            </ui:define>
        </c:crud>
        
    </ui:define>
</ui:composition>
